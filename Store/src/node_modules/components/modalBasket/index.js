import React from 'react'
import { connect } from 'react-redux'

import {
  getBasketWatchesWithCount
} from 'selectors'

const ModalBasket = ({ watches }) => {

  const renderContent = () => {
    return (
      <div>
        <div className='modalBasket-list absolute'>
          <table className='modalBasket-list-table'>
            <tbody>
              {watches.map((watch, index) => (
                <tr
                  key={index}
                  className='modalBasket-list-table-item'
                >
                  <td className='first-table-column'>
                    <img
                      className='img-thumbnail'
                      src={watch.image}
                      alt={watch.name}
                    />
                  </td>
                  <td>{watch.name}</td>
                  <td>{watch.price} руб.</td>
                  <td>{watch.count}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    )
  }
  return (
    <div className='container'>
      <div className='col-md-12'>
        {renderContent()}
      </div>
    </div>
  )
}

const mapStateToProps = state => {
  return {
    watches: getBasketWatchesWithCount(state)
  }
}

export default connect(mapStateToProps, null)(ModalBasket)