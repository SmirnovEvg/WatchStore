import React, { Component } from 'react';
import { Navbar, Nav } from 'react-bootstrap'
import { Link } from 'react-router'

class Header extends Component {
    constructor() {
        super();
        this.state = {
            firstElement: 'navbar-element',
            secondElement: 'navbar-element',
            thirdElement: 'navbar-element',
        };
        this.addClass = this.addClass.bind(this)
    }

    addClass() {
        const currentLocation = window.location.pathname
        if (currentLocation === '/catalog') {
            this.setState({ firstElement: 'navbar-element underline' })
        }
        else if (currentLocation === '/basket') {
            this.setState({ secondElement: 'navbar-element underline' })
        }
        else if (currentLocation === '/about') {
            this.setState({ thirdElement: 'navbar-element underline' })
        }
    }

    componentDidMount() {
        this.addClass()
    }

    render() {
        return (
            <div className='container navbar-watch'>
                <Navbar expand="lg">
                    <Navbar.Brand>
                        <Link to='/'>
                            <img src="/images/лого.png" alt="WatchStore_Logo" />
                        </Link>
                    </Navbar.Brand>
                    <Navbar.Toggle aria-controls="basic-navbar-nav" />
                    <Navbar.Collapse id="basic-navbar-nav">
                        <Nav className="mr-auto">
                            <Nav.Link className={this.state.firstElement}><Link to='/catalog'>Каталог</Link></Nav.Link>
                            <Nav.Link className={this.state.secondElement}><Link to="/basket">Корзина</Link></Nav.Link>
                            <Nav.Link className={this.state.thirdElement}><Link to="/about">О нас</Link></Nav.Link>
                            <Nav.Item className='auth-reg'>
                                <Nav.Link className='auth-reg-item'><Link to="/authorization">Войти</Link></Nav.Link>
                                <Nav.Link className='auth-reg-item'><Link to="/registration">Регистрация</Link></Nav.Link>
                            </Nav.Item>
                        </Nav>
                    </Navbar.Collapse>
                </Navbar>
            </div>
        )
    }
}

export default Header